---
# Implementation Plan Template - TDD-aligned
# 實作計畫模板 - 對齊 TDD 流程

task_id: ""
task_name: ""
plan_version: ""
created_date: ""
created_by: ""
estimated_duration: ""
---

task-context:
  summary: ""
  requirements-mapping:
    functional_ids: []
    non_functional_ids: []
  architecture-context:
    components: []
    integration_points: []

tdd-phases:
  red-phase:
    objective: "Write failing tests from acceptance criteria before any code; verify tests fail for the right reason"
    acceptance-to-tests:
      - acceptance_criterion_id: ""
        acceptance_criterion: ""
        test_cases: []
    test-cases:
      - name: ""
        type: ""  # unit/integration/e2e
        scenario: ""
        expected_failure: ""
    test-files: []
  
  green-phase:
    objective: "Implement minimal code to pass tests (exit code 0); follow architecture mapping strictly"
    implementation-steps:
      - step: ""
        description: ""
        files_affected: []
        architecture_component: ""
        test_coverage: []
    files:
      - path: ""
        purpose: ""
        key_functions: []
    dependencies: []
  
  refactor-phase:
    objective: "Improve code quality while maintaining green tests; integrate real APIs/services; apply patterns and eliminate duplication"
    refactoring-targets:
      - target: ""
        improvement_type: ""  # SOLID/DRY/performance/integration
        rationale: ""
        tests_affected: []
    quality-improvements: []

additional-details:
  configuration-changes: []
  database-migrations: []
  api-integrations: []
  security-considerations: []

risk-management:
  - risk: ""
    probability: ""  # high/medium/low
    impact: ""  # high/medium/low
    mitigation: ""
    rollback: ""

notes: ""
