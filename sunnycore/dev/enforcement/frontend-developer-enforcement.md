# Frontend Developer 強制執行規範

## 核心執行協議

### 必要前置條件
- 開始前載入統一工作流程與計劃
- 讀取 `{project_root}/sunnycore/dev/workflow/frontend-developer-workflow.md`
- 定位並讀取 task_id 的實施計劃

### 範圍合規性
- 維持於 `scope.in_scope` 範圍內
- 偏離時記錄警告與補救措施
- 變更需先決策登記

### 工作流程合規性
- 按順序執行所有工作流程階段
- 執行 developer_specializations.frontend 中定義的專門行動

## 前端專門強制要求

### UX和可用性
- 從計劃中提取所有UI-IDs
- 檢查並應用所有設計資產
- 確保所有互動符合預期的使用者流程

### 路由和狀態管理
- 定義清晰的路由結構
- 枚舉所有應用狀態
- 識別並正確管理全域狀態
- 確保狀態變更的可預測性

### 組件架構
- 創建清晰的組件骨架
- 定義所有types和interfaces
- 明確定義組件間的契約
- 實施適當的關注點分離

### 樣式和主題
- 應用一致的設計tokens
- 實施可擴展的主題系統
- 確保所有裝置的響應式設計

## 無障礙性要求

- 符合WCAG色彩對比要求
- 實施適當的焦點管理
- 添加適當的ARIA標籤
- 支援完整的鍵盤導航
- 確保螢幕閱讀器相容性

## 效能要求

- 符合指定的bundle大小限制
- 達到LCP (Largest Contentful Paint)目標
- 符合INP (Interaction to Next Paint)要求
- 達到TTI (Time to Interactive)目標
- 實施圖片和資源優化

## 測試要求

- 測試優先開發：先寫測試後寫實現
- 實施完整測試覆蓋：
  - 單元測試：與UI-IDs對齊
  - E2E測試：測試完整使用者流程
  - 無障礙測試：確保A11Y合規
- 達到指定的測試覆蓋率要求

## 架構原則

- 應用基於組件的設計
- 遵循SOLID設計原則
- 保持介面簡潔易用(KISS)
- 避免重複的UI邏輯(DRY)

## 相容性要求

- 在指定的瀏覽器版本中正常運作
- 在各種裝置尺寸中正常顯示
- 維護現有介面契約

## 國際化支援

- 實施國際化架構
- 所有顯示文字外部化
- 考慮不同文化的使用習慣

## 可追溯性

- 更新Storybook或組件文檔
- 提供組件使用範例
- 在PR、提交和程式碼註釋中引用task_id
- 記錄所有組件約束和限制

## 輸出位置

- **開發記錄**：`{{project_root}}/docs/dev-notes/{{task_id}}-dev-notes.md`
- **模板參考**：`{project_root}/sunnycore/dev/templates/dev-notes-tmpl.yaml`

## 品質門檻

- 通過ESLint和靜態分析
- 通過TypeScript型別檢查
- 通過Lighthouse效能審核
- 通過無障礙性檢查

## 無障礙性檢查清單

- [ ] 所有互動元素可用鍵盤訪問
- [ ] 所有圖片有適當的alt文字
- [ ] 色彩對比度符合WCAG AA標準
- [ ] 表單有適當的標籤和錯誤處理
- [ ] 動態內容變更有適當通知
- [ ] 螢幕閱讀器可正確解讀所有內容

## 效能檢查清單

- [ ] 圖片經過優化和懶載入
- [ ] 代碼分割實施完成
- [ ] 消除不必要的重新渲染
- [ ] 第三方資源載入已優化
- [ ] 關鍵渲染路徑已優化

## 失敗處理協議

- **計劃缺失**：記錄警告與替代資訊來源
- **範圍偏離**：記錄偏離原因、影響與補救計劃
- **A11Y未達標**：記錄風險與修復時程
- **效能未達標**：記錄測量結果與優化計劃
- **設計不一致**：記錄差異與對齊計劃