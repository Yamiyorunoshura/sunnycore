---
description: CI/CD 失敗時的規格更新模板
last_updated: '2025-09-03'
name: specs-update-tmpl
template_type: yaml
version: '1.0'
---



---
template: specs-update
version: 1

guidance:
  rules:
    - "不得破壞 `cursor prompt/specs.md` 所定義的章節與格式"
    - "所有新增內容需具體、可驗證，避免佔位符"
    - "引用 CI/CD 報告中的具體證據與數據"
  sources:
    - "{project_root}/docs/ci/ci-cd-status-report.md"

updates:
  requirements:
    target: "{project_root}/docs/specs/requirements.md"
    actions:
      - type: "ensure_structure"
        structure_template: "{project_root}/sunnycore/po/templates/specs-structure-requirements-tmpl.yaml"
      - type: "append_section"
        heading: "CI/CD 發現與需求補強"
        insert_after: "### 需求 6：虛擬環境管理和激活功能"
        bullets:
          - "<明確新增或調整的需求，附測試或驗收依據>"
  design:
    target: "{project_root}/docs/specs/design.md"
    actions:
      - type: "ensure_structure"
        structure_template: "{project_root}/sunnycore/po/templates/specs-structure-design-tmpl.yaml"
      - type: "append_section"
        heading: "CI/CD 問題觸發的設計修正"
        bullets:
          - "<明確設計修正，包含影響範圍與風險緩解>"
  task:
    target: "{project_root}/docs/specs/task.md"
    actions:
      - type: "ensure_structure"
        structure_template: "{project_root}/sunnycore/po/templates/specs-structure-task-tmpl.yaml"
      - type: "append_checklist"
        heading: "CI/CD 修補任務追蹤"
        items:
          - "- [ ] <新增修補任務，清楚的 DoD 和驗收標準>"

validation:
  - "不得留有 <placeholder> 或 {} 之類的佔位符"
  - "新增章節需符合 Markdown 語法，標題層級合理"
  - "新增 checklist 項目使用標準 - [ ] 標記"


