---
# 實施審查報告範本
# 所有章節必須填入實際內容或標記為 "N/A - [原因]"

metadata:
  task_id: # 必填：實際任務ID
  project_name: # 必填：專案名稱
  reviewer_ # 必填：審查者姓名
  date: # 必填：YYYY-MM-DD格式
  review_type: # 必填：initial|follow_up|re_review
  review_iteration: # 必填：1|2|3|...
  
  # 僅限後續審查：
  re_review_metadata:
    previous_review_date: # 先前審查的YYYY-MM-DD
    previous_review_path: # 先前審查文件路徑
    remediation_scope: # full|partial|targeted
    trigger_reason: # scheduled|issue_found|stakeholder_request|other
    
    previous_findings_status:
      # 追蹤每個先前發現：
      - finding_id: # 先前發現ID（例如：ISS-1）
        status: # resolved|in_progress|deferred|wontfix
        resolution_date: # 如已解決則為YYYY-MM-DD
        evidence: # 解決證據的路徑/連結
        notes: # 解決註記或狀態原因

  sources:
    plan:
      path: # 實施計劃路徑
    specs:
      requirements: # requirements.md路徑
      task: # task.md路徑
      design: # design.md路徑
    evidence:
      prs: [] # PR連結或ID清單
      commits: [] # 提交雜湊清單
      artifacts: [] # 相關產物路徑清單
      
  assumptions: [] # 列出所有審查假設
  constraints: [] # 列出所有識別的約束

context:
  summary: # 必填：描述實施的1-3個句子
  scope_alignment:
    in_scope_covered: # yes|partial|no
    justification: # 範圍評估的證據
    out_of_scope_changes: [] # 列出任何範圍外變更或"未識別任何"

conformance_check:
  requirements_match:
    status: # pass|partial|fail
    justification: # 詳細說明
    evidence: [] # 列出有路徑的支持證據
    
  plan_alignment:
    status: # pass|partial|fail  
    justification: # 詳細說明
    deviations: # 列出所有偏離或"未識別任何"
      - description: # 偏離內容
        impact: # low|medium|high
        evidence: # 檔案路徑或測量

quality_assessment:
  ratings:
    completeness:
      score: # 1-5
      justification: # 有範例的詳細推理
      evidence: # 檔案路徑或具體範例
      
    consistency:
      score: # 1-5
      justification: # 有範例的詳細推理
      evidence: # 檔案路徑或具體範例
      
    readability_maintainability:
      score: # 1-5
      justification: # 有範例的詳細推理
      evidence: # 檔案路徑或具體範例
      
    security:
      score: # 1-5
      justification: # 安全發現和分析
      evidence: # 檔案路徑或具體範例
      
    performance:
      score: # 1-5
      justification: # 效能指標或觀察
      evidence: # 測量或基準
      
    test_quality:
      score: # 1-5
      justification: # 涵蓋率和結果分析
      evidence: # 測試報告或涵蓋率資料
      
    documentation:
      score: # 1-5
      justification: # 文件充分性評估
      evidence: # 更新文件的路徑
      
  summary_score:
    score: # 整體分數1-5
    calculation_method: # 摘要分數如何得出

  implementation_maturity:
    level: # bronze|silver|gold|platinum
    rationale: # 依據品質分數、品質門檻與量化指標的綜合說明
    computed_from:
      - # 例：所有必填章節完整、無blocker、覆蓋率>=70% → silver
    
  quantitative_metrics:
    code_metrics:
      lines_of_code: # 總程式碼行數
      cyclomatic_complexity: # 平均複雜度分數
      technical_debt_ratio: # 百分比
      code_duplication: # 百分比
      
    quality_gates:
      passing_tests: # 數量/百分比
      code_coverage: # 百分比
      static_analysis_issues: # 按嚴重性計數
      security_vulnerabilities: # 按嚴重性計數
      
    # 僅限重新審查：
    trend_analysis:
      quality_trend: # improving|stable|declining
      score_delta: # 與先前審查的+/-X.X
      improvement_areas: [] # 改進區域
      regression_areas: [] # 退步區域

findings:
  # 每個發現的範本 - 複製以添加更多發現
  - id: # ISS-1, ISS-2等
    title: # 清楚、具體的問題標題
    severity: # blocker|high|medium|low
    area: # security|performance|correctness|consistency|documentation|testing|other
    description: # 問題的詳細描述
    evidence: [] # 列出有確切路徑/行號的具體證據
    recommendation: # 具體、可行的建議

error_log:
  summary:
    total_errors: # 數量
    by_severity:
      blocker: 0
      high: 0
      medium: 0
      low: 0
  entries:
    - code: # ERR-代碼（例如：ERR-AUTH-001）
      severity: # blocker|high|medium|low
      area: # security|performance|correctness|consistency|documentation|testing|other
      description: # 錯誤/異常的簡述
      evidence: [] # 具體檔案/行號/PR/測量連結
      remediation: # 建議修復步驟
      status: # open|fixed|wontfix

recommendations:
  # 每個建議的範本 - 複製以添加更多建議
  - id: # REC-1, REC-2等
    title: # 清楚的建議標題
    rationale: # 為何此建議有幫助
    steps: [] # 列出所有實施步驟
    success_criteria: [] # 列出可測量的成功條件

next_actions:
  blockers: [] # 列出所有阻礙項目或"未識別阻礙"
  prioritized_fixes: [] # 按優先順序排列修復（參考發現ID）
  follow_up: [] # 列出有負責人/時間線的後續行動

appendix:
  test_summary:
    coverage:
      lines: # 百分比
      branches: # 百分比
      functions: # 百分比
    results:
      - suite: # 測試套件名稱
        status: # pass|fail
        notes: # 任何相關註記
        
  measurements:
    performance: # 列出效能指標或"無可用指標"
      - metric: # 指標名稱（例如：p95_latency_ms）
        value: # 當前值
        baseline: # 基線值
        delta: # +/- 變化
        
    security_scans: # 列出安全掃描結果或"未執行掃描"
      - tool: # 掃描工具名稱
        result: # pass|issues
        notes: # 發現摘要
